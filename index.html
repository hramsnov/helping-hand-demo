<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Helping Hand Donation</title>

<!-- GA4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4CFSHYMM3E"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-4CFSHYMM3E');
</script>

</head>
<body>

<h1>Helping Hand</h1>
<p>Support our mission by making a donation.</p>

<a href="#XJKDHSTQ">Donate Now</a>

<!-- Fundraise Up Widget -->
<script>
(function(w,d,s,n,a){
if(!w[n]){
var l='call,catch,on,once,set,then,track'.split(','),
i,o=function(n){
return'function'==typeof n?o.l.push([arguments])&&o:
function(){return o.l.push([n,arguments])&&o}
},
t=d.getElementsByTagName(s)[0],
j=d.createElement(s);
j.async=!0;
j.src='https://cdn.fundraiseup.com/widget/'+a;
t.parentNode.insertBefore(j,t);
o.s=Date.now();
o.v=4;
o.h=w.location.href;
o.l=[];
for(i=0;i<7;i++)o[l[i]]=o(l[i]);
w[n]=o
}
})(window,document,'script','FundraiseUp','AEMZUDUM');
</script>

<!-- PURCHASE TRACKING (правильный вариант) -->
<script>
document.addEventListener('FundraiseUp:donationComplete', function(e) {

    var data = e.detail;

    if (!data) return;

    gtag('event', 'purchase', {
        transaction_id: data.order_id ? String(data.order_id) : 'donation_' + Date.now(),
        value: Number(data.amount),
        currency: data.currency || 'USD',
        items: [{
            item_id: 'donation',
            item_name: 'Donation',
            price: Number(data.amount),
            quantity: 1
        }]
    });

});
</script>

</body>
</html>
