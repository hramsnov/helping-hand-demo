<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Helping Hand Donation Demo</title>

  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-4CFSHYMM3E"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}

    gtag('js', new Date());
    gtag('config', 'G-4CFSHYMM3E');
  </script>

</head>
<body>

<h1>Helping Hand</h1>
<p>Support our mission by making a donation.</p>

<!-- Fundraise Up Button -->
<a href="#XJKDHSTQ">Donate Now</a>

<!-- Fundraise Up Script -->
<script>
(function(w,d,s,n,a){
  if(!w[n]){
    var l='call,catch,on,once,set,then,track'.split(','),
    i,o=function(n){
      return 'function'==typeof n ? o.l.push([arguments])&&o :
      function(){ return o.l.push([n,arguments])&&o }
    },
    t=d.getElementsByTagName(s)[0],
    j=d.createElement(s);
    j.async=!0;
    j.src='https://cdn.fundraiseup.com/widget/'+a;
    t.parentNode.insertBefore(j,t);
    o.s=Date.now();
    o.v=4;
    o.h=w.location.href;
    o.l=[];
    for(i=0;i<7;i++) o[l[i]]=o(l[i]);
    w[n]=o;
  }
})(window,document,'script','FundraiseUp','AEMZUDUM');
</script>

<!-- Fundraise Up â†’ GA4 Integration via JS API -->
<script>
document.addEventListener("DOMContentLoaded", function() {

  /* ============================
     CHECKOUT OPEN EVENT
  ============================ */

  FundraiseUp.on('checkoutOpen', function(data) {

    gtag('event', 'begin_checkout', {
      currency: data.currency || 'USD',
      value: data.amount || 0
    });

    console.log("GA4 begin_checkout sent", data);
  });


  /* ============================
     DONATION COMPLETE EVENT
  ============================ */

  FundraiseUp.on('donationComplete', function(data) {

    gtag('event', 'purchase', {
      transaction_id: data.id || Date.now().toString(),
      value: data.amount,
      currency: data.currency,
      items: [{
        item_name: "Donation",
        quantity: 1,
        price: data.amount
      }]
    });

    console.log("GA4 purchase sent", data);
  });

});
</script>

</body>
</html>
